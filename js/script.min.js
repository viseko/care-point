const menuBtn=document.querySelector(".js-menu-btn"),menuActiveClass="menu-open";menuBtn.addEventListener("click",(function(){document.body.classList.toggle("menu-open")}));const teamSlider=new Swiper(".js-team-slider",{wrapperClass:"js-team-list",slideClass:"js-team-slide",direction:"horizontal",loop:!1,slidesPerView:"1",pagination:{el:".js-team__pagination",bulletClass:"slider__bullet",bulletActiveClass:"slider__bullet--active",bulletElement:"button",clickable:!0,clickableClass:"slider__pagination__clickable"},navigation:{nextEl:".js-team-next",prevEl:".js-team-prev",disabledClass:"slider__nav--disabled"},followFinger:!1,breakpoints:{1e3:{slidesPerView:4},750:{slidesPerView:3},600:{slidesPerView:2}}});function checkSlidesLength(e,t){const l=t.slidesPerView,n=e.slides.length;l===n?(e.params.followFinger=!1,e.$el[0].parentElement.classList.add("_slider-lock")):l<n&&(e.params.followFinger=!0,e.$el[0].parentElement.classList.contains("_slider-lock")&&e.$el[0].parentElement.classList.remove("_slider-lock"))}checkSlidesLength(teamSlider,teamSlider.params),teamSlider.on("breakpoint",(function(e,t){checkSlidesLength(e,t)}));const accordeons=document.querySelectorAll(".accordeon__item");if(accordeons.length)for(let e=0;e<accordeons.length;e++){const t=accordeons[e],l=t.querySelector(".accordeon__title"),n=t.querySelector(".accordeon__content");calcAccordeonNormalHeight(t,n),n.addEventListener("transitionend",(function(){t.open&&!t.classList.contains("_open")&&(t.open=!1)})),l.addEventListener("click",(function(e){e.preventDefault(),t.open?(n.style.height="0px",t.classList.remove("_open")):(t.classList.add("_open"),t.open=!0,t.offsetWidth=t.offsetWidth,n.style.height=n.normalHeight)}))}function calcAccordeonNormalHeight(e,t){e.open?(e.classList.contains("_open")||e.classList.add("_open"),t.style.height=null,t.normalHeight=t.offsetHeight+"px",t.style.height=t.normalHeight):(e.open=!0,t.style.height=null,t.normalHeight=t.offsetHeight+"px",e.open=!1,t.style.height="0px")}window.addEventListener("resize",(function(){if(accordeons.length)for(let e=0;e<accordeons.length;e++){const t=accordeons[e],l=t.querySelector(".accordeon__content");calcAccordeonNormalHeight(t,l)}}));const increments=document.querySelectorAll(".js-stats-increment"),incrementSpeed=100;for(let e=0;e<increments.length;e++){const t=increments[e];t.plus=t.nextElementSibling,t.totalNumber=+t.innerHTML,t.visible=!1,t.innerHTML="0",t.style.cssText="transition: 0.5s; opacity: 0;",t.plus&&(t.plus.style.cssText="transition: 0.2s; opacity: 0;")}let isScrolling=!1;function checkIncrementsReach(e){for(let e=0;e<increments.length;e++){const t=increments[e];!t.visible&&isElementFullVisible(t)&&showIncrement(t)}}function isElementFullVisible(e){const t=e.getBoundingClientRect(),l=t.top,n=t.bottom;return l>=0&&n<=window.innerHeight-window.innerHeight/10}function showIncrement(e){e.style.opacity="1",e.visible=!0;let t=setInterval((function(){const l=+e.innerHTML;l!=e.totalNumber?e.innerHTML=Math.min(l+Math.floor(e.totalNumber/100),e.totalNumber):(clearTimeout(t),e.plus&&(e.plus.style.opacity="1"))}),10)}window.addEventListener("scroll",(function(e){isScrolling||window.requestAnimationFrame((function(){checkIncrementsReach(e),isScrolling=!1})),isScrolling=!0}));let gallerySlider=null;const mobileBreakpoint=window.matchMedia("(min-width: 501px)");function mobileBreakpointChecker(){mobileBreakpoint.matches?gallerySlider&&gallerySlider.destroy():initGallerySlider()}function initGallerySlider(){gallerySlider=new Swiper(".js-gallery-slider",{wrapperClass:"js-gallery-list",slideClass:"js-gallery-slide",direction:"horizontal",loop:!1,slidesPerView:"1",pagination:{el:".js-gallery__pagination",bulletClass:"slider__bullet",bulletActiveClass:"slider__bullet--active",bulletElement:"button",clickable:!0,clickableClass:"slider__pagination__clickable"},navigation:{nextEl:".js-gallery-next",prevEl:".js-gallery-prev",disabledClass:"slider__nav--disabled"},followFinger:!0})}function maskPhone(e,t="+7 (___) ___-__-__"){const l=document.querySelectorAll(e);function n(e){const l=e.keyCode,n=t,o=n.replace(/\D/g,""),i=this.value.replace(/\D/g,"");let s=0,r=n.replace(/[_\d]/g,(function(e){return s<i.length?i.charAt(s++)||o.charAt(s):e}));s=r.indexOf("_"),-1!==s&&(r=r.slice(0,s));let a=n.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");a=new RegExp("^"+a+"$"),(!a.test(this.value)||this.value.length<5||l>47&&l<58)&&(this.value=r),"blur"===e.type&&this.value.length<5&&(this.value="")}for(const e of l)e.addEventListener("input",n),e.addEventListener("focus",n),e.addEventListener("blur",n)}mobileBreakpoint.addEventListener("change",mobileBreakpointChecker),mobileBreakpointChecker(),maskPhone("#form-phone");const appointmentForm=document.querySelector(".js-appointment-form");appointmentForm.addEventListener("submit",(function(e){e.preventDefault(),appointmentForm.reset(),showModal()}));const modalWrapper=document.querySelector(".js-modal-wrapper"),modalWindow=document.querySelector(".js-modal-window"),btnCloseModal=document.querySelector(".js-modal-close");function showModal(){lockBodyOverflow(),modalWrapper.classList.add("_show"),modalWindow.classList.add("_show")}function closeModal(){unlockBodyOverflow(),modalWrapper.classList.remove("_show"),modalWindow.classList.remove("_show")}function lockBodyOverflow(){document.body.style.overflow="hidden",document.body.style.paddingRight=getScrollBarWidth()+"px"}function unlockBodyOverflow(){document.body.style.overflow="auto",document.body.style.paddingRight="0"}function getScrollBarWidth(){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var l=e.offsetWidth;t.style.overflow="scroll";var n=e.offsetWidth;return l==n&&(n=t.clientWidth),document.body.removeChild(t),l-n}btnCloseModal.addEventListener("click",closeModal);